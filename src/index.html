<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Système de Réservation</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <h1>Système de Réservation</h1>

    <div class="nav-tabs">
      <button onclick="app.showTab('salles')">Gestion des Salles</button>
      <button onclick="app.showTab('reservations')">Réservations</button>
      <button onclick="app.showTab('consultation')">
        Consultation Réservation
      </button>
    </div>

    <!-- Gestion des salles -->
    <div id="salles" class="tab-content">
      <div class="grid-container">
        <div class="card">
          <h2>Liste des Salles</h2>
          <div id="listeSalles"></div>
        </div>

        <div class="column-right">
          <div class="card">
            <h2>Ajouter une Salle</h2>
            <input type="text" id="nomSalle" placeholder="Nom de la salle" />
            <input type="number" id="capaciteSalle" placeholder="Capacité" />
            <button onclick="app.ajouterSalle()">Ajouter</button>
          </div>

          <div class="card" id="modificationSalleCard">
            <h2>Modifier une Salle</h2>
            <div id="modificationSalleContent">
              <!-- Le contenu dynamique sera injecté ici -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Réservations -->
    <div id="reservations" class="tab-content">
      <div class="grid-container">
        <div class="card">
          <h2>Liste des Salles Disponibles</h2>
          <select
            id="salleReservation"
            onchange="app.afficherReservations()"
          ></select>
          <div id="listeReservations"></div>
        </div>

        <div class="column-right">
          <div class="card">
            <h2>Nouvelle Réservation</h2>
            <div class="reservation-info-message">
              <i class="fa-solid fa-circle-info"></i>
              Les réservations sont possibles uniquement entre
              <strong>08:00</strong> et <strong>18:00</strong>.
            </div>
            <div class="datetime-group">
              <div>
                <label for="dateDebut">Date de début</label>
                <input
                  type="date"
                  id="dateDebut"
                  onchange="app.verifierDisponibilite()"
                />
                <input
                  type="time"
                  id="heureDebut"
                  onchange="app.verifierDisponibilite()"
                  min="08:00"
                  max="18:00"
                />
              </div>
              <div>
                <label for="dateFin">Date de fin</label>
                <input
                  type="date"
                  id="dateFin"
                  onchange="app.verifierDisponibilite()"
                />
                <input
                  type="time"
                  id="heureFin"
                  onchange="app.verifierDisponibilite()"
                  min="08:00"
                  max="18:00"
                />
              </div>
            </div>
            <input
              type="number"
              id="nombrePersonnes"
              placeholder="Nombre de personnes"
              onchange="app.verifierCapacite()"
            />
            <button onclick="app.faireReservation()">Réserver</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Consultation Réservation -->
    <div id="consultation" class="tab-content">
      <div class="grid-container">
        <div class="card">
          <h2>Recherche par Date</h2>
          <input type="date" id="consultationDate" />
          <button onclick="app.afficherReservationsJour()">Afficher</button>
          <div id="resultatReservationsJour"></div>
        </div>
        <div class="card">
          <h2>Recherche par Salle</h2>
          <select id="consultationSalle"></select>
          <button onclick="app.afficherReservationsSalle()">Afficher</button>
          <div id="resultatReservationsSalle"></div>
        </div>
      </div>
    </div>

    <div id="alerts"></div>

    <script src="api.js"></script>
    <script src="app.js"></script>
  </body>
</html>
